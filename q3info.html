<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Quest 3: The Automated Alchemist</title>
    <link rel="stylesheet" href="quest-style.css">
</head>

<body>
    <div class="scroll-container">
        <div class="parchment">
            <h1 id="title">Level 3: Loops</h1>

            <section class="lesson-content">
                <h3>What is a Loop?</h3>
                <p>
                    A loop is like a <strong>factory conveyor belt</strong> â€” items come one by one, and you do the same
                    action on each item.
                </p>

                <h3>The <code>for</code> Loop Spell</h3>
                <p>This loop checks every item in the list:</p>

                <div
                    style="background:#000;color:#0f0;padding:12px;border-radius:8px;font-family:monospace;text-align:left;">
                    inventory = ["Herb", "Lead", "Herb", "Lead"]<br><br>
                    for item in inventory:<br>
                    &nbsp;&nbsp;print(item)
                </div>

                <h3>Loop + Condition (Super Important)</h3>
                <p>
                    Inside the loop, you can add an <strong>if</strong> condition to process only specific items.
                </p>

                <div
                    style="background:#000;color:#0f0;padding:12px;border-radius:8px;font-family:monospace;text-align:left;">
                    for i in range(len(inventory)):<br>
                    &nbsp;&nbsp;if inventory[i] == "Lead":<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;inventory[i] = "Gold"
                </div>

                <p style="background: rgba(62, 39, 18, 0.1); padding: 10px; border-left: 4px solid #3e2712;">
                    <strong>Your Mission:</strong>
                    In the next room, step through the loop and turn only <b>Lead</b> into <b>Gold</b>.
                    Others must be skipped.
                </p>
            </section>

            <div class="progress-container"
                style="width: 100%; background: #3e2712; height: 10px; border-radius: 5px; margin: 20px 0;">
                <div id="progressBar" style="background: #f1c40f; height: 100%; width: 100%; border-radius: 5px;">
                </div>
            </div>

            <button class="play-btn" onclick="location.href='quest3-game.html'">Enter the Alchemy Factory</button>

            <div style="margin-top:14px;">
                <a class="reset-link" style="cursor:pointer;" onclick="location.href='python-level.html'">Back to
                    Map</a>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.body.classList.add("page-fade");
            requestAnimationFrame(() => document.body.classList.add("show"));
        });

        function go(url) {
            const overlay = document.getElementById("loadingOverlay");
            overlay && overlay.classList.add("show");

            document.body.classList.add("page-exit");
            setTimeout(() => {
                location.href = url;
            }, 350);
        }

        document.addEventListener("click", (e) => {
            const a = e.target.closest("a");
            if (!a) return;

            const href = a.getAttribute("href");
            if (!href || href.startsWith("#") || href.startsWith("javascript:")) return;

            e.preventDefault();
            go(href);
        });
    </script>

</body>

</html>