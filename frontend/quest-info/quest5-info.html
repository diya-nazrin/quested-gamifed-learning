<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Quest 5: The Grand Trial</title>
    <link rel="stylesheet" href="quest-style.css">
</head>

<body>
    <div class="scroll-container">
        <div class="parchment">
            <h1 id="title">Quest 5: The Grand Trial</h1>

            <section class="lesson-content">
                <h3>‚öîÔ∏è The Final Boss</h3>
                <p>
                    You have reached the end of the village path.
                    Now you must face the <strong>Code Guardian</strong>.
                    Every question is a spell test from everything you've learned so far.
                </p>

                <h3>What You Need to Know</h3>
                <ul>
                    <li><b>Strings</b> ‚Üí Quotes matter (<code>"5"</code> vs <code>5</code>)</li>
                    <li><b>Variables</b> ‚Üí Assignment & overwrite (<code>x = 10</code> then <code>x = 20</code>)</li>
                    <li><b>Lists</b> ‚Üí Indexing (<code>items[1]</code>)</li>
                    <li><b>Loops</b> ‚Üí Repeating actions</li>
                    <li><b>Functions</b> ‚Üí <code>def</code> and <code>return</code></li>
                </ul>

                <h3>Boss Battle Rules</h3>
                <p style="background: rgba(62, 39, 18, 0.1); padding: 10px; border-left: 4px solid #3e2712;">
                    ‚úÖ Correct answer = <b>Guardian HP decreases</b><br>
                    ‚ùå Wrong answer = <b>You take damage</b><br>
                    üèÜ Reduce Guardian HP to <b>0</b> to win the trial.
                </p>

                <h3>Tip</h3>
                <p>
                    Don‚Äôt rush. Read the code carefully.
                    Most mistakes are small: brackets, quotes, and capital letters like <code>Print()</code>.
                </p>
            </section>

            <div class="progress-container"
                style="width: 100%; background: #3e2712; height: 10px; border-radius: 5px; margin: 20px 0;">
                <div id="progressBar" style="background: #f1c40f; height: 100%; width: 100%; border-radius: 5px;">
                </div>
            </div>

            <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
                <button class="play-btn" onclick="location.href='quest5-game.html'">Enter the Trial</button>
                <button class="play-btn" style="background:#3e2712" onclick="location.href='python-level.html'">Back to
                    Map</button>
            </div>

            <a class="reset-link" style="cursor:pointer; display:block; margin-top:14px;"
                onclick="resetQuest5()">Restart Quest 5</a>
        </div>
    </div>

    <script>
        function resetQuest5() {
            localStorage.removeItem("q5Complete");
            alert("Quest 5 progress cleared ‚úÖ");
            location.href = "q5info.html";
        }
    </script>
    <!-- Loading overlay -->
    <div id="loadingOverlay">
        <div class="loader-scroll">
            ‚ú® Loading Next Area...
            <div class="loader-bar">
                <div class="loader-fill"></div>
            </div>
        </div>
    </div>
    <script>
        // Fade-in on load
        document.addEventListener("DOMContentLoaded", () => {
            document.body.classList.add("page-fade");
            requestAnimationFrame(() => document.body.classList.add("show"));
        });

        // Navigate with animation
        function go(url) {
            const overlay = document.getElementById("loadingOverlay");
            overlay && overlay.classList.add("show");

            document.body.classList.add("page-exit");
            setTimeout(() => {
                location.href = url;
            }, 350);
        }

        // Intercept normal link clicks
        document.addEventListener("click", (e) => {
            const a = e.target.closest("a");
            if (!a) return;

            const href = a.getAttribute("href");
            if (!href || href.startsWith("#") || href.startsWith("javascript:")) return;

            e.preventDefault();
            go(href);
        });
    </script>

</body>

</html>